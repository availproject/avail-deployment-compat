namespace: /polygon

#  Data-Avail Validators for DevNet
#  ===============================

da-dev-validator-1:
  defines: runnable
  inherits: ./da-validator
  containers:
    defines: containers
    da-node:
      ports:
        - <- `0.0.0.0:${ws_port}:${ws_port}`
        - <- `0.0.0.0:${rpc_port}:${rpc_port}`
      hooks:
        container-starting: act( "/polygon/da-dev-validator-1/insert-session-keys", "suri", "//Alice")
  variables:
    self_id: "da-dev-validator-1" 
    chain_spec: '/da/genesis/devnet.chain.spec.json'
    node_key: 0000000000000000000000000000000000000000000000000000000000000001
    name: alice 
    volume-data: <- `${moncc-volume-path}/dev/validator/1`
    cmds: <- "--force-authoring --alice --rpc-cors=all --unsafe-ws-external --unsafe-rpc-external --reserved-nodes /dns4/" get-hostname("/polygon/da-dev-validator-2", "da-node") "/tcp/30333/p2p/12D3KooWHdiAxVd8uMQR1hGWXccidmfCwLqcMpGwR6QcTP6QRMuD --reserved-nodes /dns4/" get-hostname("/polygon/da-dev-validator-3", "da-node") "/tcp/30333/p2p/12D3KooWSCufgHzV4fCwRijfH2k3abrpAJxTKxEvN1FDuRXA2U9x" concat-all

da-dev-validator-2:
  defines: runnable
  inherits: ./da-validator
  containers:
    defines: containers
    da-node:
      hooks:
        container-started: act( "/polygon/da-dev-validator-2/insert-session-keys", "suri", "//Bob")
  variables:
    self_id: "da-dev-validator-2" 
    chain_spec: '/da/genesis/devnet.chain.spec.json'
    node_key: 0000000000000000000000000000000000000000000000000000000000000002
    name: bob 
    volume-data: <- `${moncc-volume-path}/dev/validator/2`
    cmds: <- "--bob --bootnodes /dns4/" get-hostname("/polygon/da-dev-validator-1", "da-node") "/tcp/30333/p2p/12D3KooWEyoppNCUx8Yx66oV9fJnriXwCcXwDDUA2kj6vnc6iDEp --reserved-nodes /dns4/" get-hostname("/polygon/da-dev-validator-3", "da-node") "/tcp/30333/p2p/12D3KooWSCufgHzV4fCwRijfH2k3abrpAJxTKxEvN1FDuRXA2U9x" concat-all


da-dev-validator-3:
  defines: runnable
  inherits: ./da-validator
  containers:
    defines: containers
    da-node:
      hooks:
        container-starting: act( "/polygon/da-dev-validator-3/insert-session-keys", "suri", "//Charlie")
  variables:
    self_id: "da-dev-validator-3" 
    chain_spec: '/da/genesis/devnet.chain.spec.json'
    node_key: 0000000000000000000000000000000000000000000000000000000000000003
    name: charlie 
    volume-data: <- `${moncc-volume-path}/dev/validator/3`
    cmds: <- "--charlie --bootnodes /dns4/" get-hostname("/polygon/da-dev-validator-1", "da-node") "/tcp/30333/p2p/12D3KooWEyoppNCUx8Yx66oV9fJnriXwCcXwDDUA2kj6vnc6iDEp --reserved-nodes /dns4/" get-hostname("/polygon/da-dev-validator-2", "da-node") "/tcp/30333/p2p/12D3KooWHdiAxVd8uMQR1hGWXccidmfCwLqcMpGwR6QcTP6QRMuD " concat-all


